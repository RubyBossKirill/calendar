class Calendar{constructor(e={}){var t,a,i,n,s,r,l,o,h,d;this.CAL_NAME="color-calendar",this.DAYS_TO_DISPLAY=42,this.weekdayDisplayTypeOptions={short:["S","M","T","W","T","F","S"],"long-lower":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"long-upper":["SUN","MON","TUE","WED","THU","FRI","SAT"]},this.id=null!==(t=e.id)&&void 0!==t?t:"#color-calendar",this.calendarSize=null!==(a=e.calendarSize)&&void 0!==a?a:"large",this.layoutModifiers=null!==(i=e.layoutModifiers)&&void 0!==i?i:[],this.eventsData=null!==(n=e.eventsData)&&void 0!==n?n:[],this.theme=null!==(s=e.theme)&&void 0!==s?s:"basic",this.primaryColor=e.primaryColor,this.headerColor=e.headerColor,this.headerBackgroundColor=e.headerBackgroundColor,this.weekdaysColor=e.weekdaysColor,this.weekdayDisplayType=null!==(r=e.weekdayDisplayType)&&void 0!==r?r:"long-lower",this.monthDisplayType=null!==(l=e.monthDisplayType)&&void 0!==l?l:"long",this.startWeekday=null!==(o=e.startWeekday)&&void 0!==o?o:0,this.fontFamilyHeader=e.fontFamilyHeader,this.fontFamilyWeekdays=e.fontFamilyWeekdays,this.fontFamilyBody=e.fontFamilyBody,this.dropShadow=e.dropShadow,this.border=e.border,this.borderRadius=e.borderRadius,this.disableMonthYearPickers=null!==(h=e.disableMonthYearPickers)&&void 0!==h&&h,this.disableDayClick=null!==(d=e.disableDayClick)&&void 0!==d&&d,this.disableMonthArrowClick=e.disableMonthArrowClick,this.dateChanged=e.dateChanged,this.monthChanged=e.monthChanged,this.selectedDateClicked=e.selectedDateClicked,this.customMonthValues=e.customMonthValues,this.customWeekdayValues=e.customWeekdayValues,this.today=new Date,this.currentDate=new Date,this.pickerType="month",this.calendar=document.querySelector(this.id),this.initialize()}initialize(){this.generateBaseLayout(),this.addEventListeners(),this.updateCalendar(),this.generateCalendarBody()}generateBaseLayout(){this.calendar.innerHTML=`\n<div class="${this.CAL_NAME}">\n<div class="calendar-header">\n<div class="calendar-arrow calendar-arrow-prev">&#9664;</div>\n<div class="calendar-monthyear">\n<span class="calendar-month"></span>&nbsp;<span class="calendar-year"></span>\n</div>\n<div class="calendar-arrow calendar-arrow-next">&#9654;</div>\n</div>\n<div class="calendar-body">\n<div class="calendar-weekdays"></div>\n<div class="calendar-days"></div>\n</div>\n</div>`,this.calendarHeader=this.calendar.querySelector(".calendar-header"),this.calendarMonth=this.calendar.querySelector(".calendar-month"),this.calendarYear=this.calendar.querySelector(".calendar-year"),this.calendarDays=this.calendar.querySelector(".calendar-days"),this.calendarWeekdays=this.calendar.querySelector(".calendar-weekdays")}generateCalendarBody(){const e=this.DAYS_TO_DISPLAY;for(let t=0;t<e;t++){const e=document.createElement("div");e.classList.add("calendar-day"),this.calendarDays.appendChild(e)}this.updateWeekdays()}updateCalendar(){this.updateMonthYear(),this.populateDays()}updateMonthYear(){this.calendarMonth.textContent=this.currentDate.toLocaleString("default",{month:this.monthDisplayType}),this.calendarYear.textContent=this.currentDate.getFullYear()}populateDays(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),a=new Date(e,t,1).getDay(),i=new Date(e,t+1,0).getDate();let n=0;for(let s=1;s<=i;s++){const e=this.calendarDays.children[n];e.textContent=s,e.dataset.date=new Date(e,t,s).toISOString(),n++}for(let s=0;s<n;s++)this.calendarDays.children[s].classList.add("current-month");for(let s=a;s<0;s++)this.calendarDays.children[s].classList.remove("current-month")}addEventListeners(){this.calendarHeader.addEventListener("click",e=>{e.target.classList.contains("calendar-arrow-prev")?this.changeMonth(-1):e.target.classList.contains("calendar-arrow-next")&&this.changeMonth(1)}),this.calendarDays.addEventListener("click",e=>{e.target.classList.contains("calendar-day")&&this.dateChanged&&this.dateChanged(new Date(e.target.dataset.date))})}changeMonth(e){const t=this.currentDate.getMonth();this.currentDate.setMonth(t+e),this.updateCalendar(),this.monthChanged&&this.monthChanged(this.currentDate)}updateWeekdays(){const e=this.weekdayDisplayTypeOptions[this.weekdayDisplayType]||this.weekdayDisplayTypeOptions.short;for(const t of e){const e=document.createElement("div");e.classList.add("calendar-weekday"),e.textContent=t,this.calendarWeekdays.appendChild(e)}}}
